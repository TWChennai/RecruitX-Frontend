<ion-view title="Candidate">
  <ion-content has-tabs="true" ng-controller="candidateInterviewsController" ng-class="{'empty' : noInterviews }">
    <div class="row text-center" ng-if="!noInterviews">
      <div class="col col-100">
        <h5>{{current_candidate.pipelineStatus}}</h5>
      </div>
    </div>
    <div ng-if="noInterviews" class='full-screen-div'>
      <div class="center-screen"><b>Without attending any round, the candidate got closed.</b>
      </div>
    </div>
    <ion-list inset>
      <!--TODO: Replace with collection repeat after making css changes-->
      <div ng-repeat="interviewType in interviewSet">
        <ion-item class="item interview-container" ui-sref="interview-details({id: interviewType.id})" disable-ui-sref="!((isLoggedinUserRecruiter || isPanelistForAnyInterviewRound) && !isNotScheduled(interviewType))">
          <div class="row">
            <p class="col col-30">{{interviewType.name}}</p>
            <p class="col col-50">{{interviewType.start_time | date: 'dd/MM/yyyy h:mma'}}</p>
            <p class="ion-thumbsdown col col-10 modify-interview color-red" ng-if="(isLoggedinUserRecruiter || isPanelistForAnyInterviewRound) && isFeedbackGiven(interviewType.status) && compareStatus(interviewType.status, 'Pass')"></p>
            <p class="ion-thumbsup col col-10 modify-interview" ng-if="(isLoggedinUserRecruiter || isPanelistForAnyInterviewRound) && isFeedbackGiven(interviewType.status) && compareStatus(interviewType.status, 'Pursue')"></p>
            <p class="ion-thumbsup col col-10 modify-interview" ng-if="(isLoggedinUserRecruiter || isPanelistForAnyInterviewRound) && isFeedbackGiven(interviewType.status) && compareStatus(interviewType.status, 'Strong Pursue')"></p>
            <p class="ion-thumbsup col col-10 modify-interview" ng-if="(isLoggedinUserRecruiter || isPanelistForAnyInterviewRound) && isFeedbackGiven(interviewType.status) && compareStatus(interviewType.status, 'Strong Pursue')"></p>
            <button class="button ion-edit col col-10 modify-interview" ng-show="isLoggedinUserRecruiter && !isNotScheduled(interviewType) && !isFeedbackGiven(interviewType.status) && isPipelineNotClosed()" ng-click="dateTime($index, $event, updateInterview)"></button>
            <button class="button ion-plus col col-10 modify-interview" ng-show="isLoggedinUserRecruiter && isNextSchedulableRound(interviewType) && !isFeedbackGiven(interviewType.status)" ng-click="dateTime($index, $event, createInterview)"></button>
          </div>
        </ion-item>
      </div>
    </ion-list>
    <div class="padding-bottom" ng-if="isLoggedinUserRecruiter && isPipelineNotClosed()">
      <button class="button button-positive button-full no-margin" ng-click="closePipelineWithConfirmation()">Close Pipeline</button>
    </div>
  </ion-content>
</ion-view>
